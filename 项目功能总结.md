# 人才测评平台 - 项目功能总结

## 项目概述

这是一个完整的人才测评平台，采用前后端分离架构，支持在线测评、题库管理、报告生成等功能。项目包含管理员端和被试者端两个主要界面。

## 技术架构

### 后端技术栈
- **框架**: FastAPI (Python)
- **数据库**: MySQL + SQLAlchemy ORM
- **认证**: JWT Token
- **报告生成**: WeasyPrint + Matplotlib
- **文档处理**: python-docx
- **数据处理**: Pandas + OpenPyXL

### 前端技术栈
- **框架**: React 18 + TypeScript
- **UI库**: Ant Design 5
- **构建工具**: Vite
- **路由**: React Router 6
- **HTTP客户端**: Axios
- **图表**: Recharts

## 核心功能模块

### 1. 用户认证与权限管理

#### 功能特性
- 用户注册/登录系统
- JWT Token认证
- 角色权限控制（管理员/被试者）
- 密码加密存储（bcrypt）

#### 主要接口
- `POST /login` - 用户登录
- `POST /register` - 用户注册
- `GET /me` - 获取当前用户信息
- `PUT /me/profile` - 更新用户信息
- `PUT /me/password` - 修改密码

#### 数据模型
```sql
users表:
- id: 用户ID
- username: 用户名
- password_hash: 加密密码
- real_name: 真实姓名
- role: 角色(admin/participant)
- email: 邮箱
- phone: 手机号
- is_active: 是否激活
```

### 2. 题库管理系统

#### 功能特性
- 题目的增删改查
- 支持多种题型（单选、多选、不定项）
- Word文档批量导入题目
- 题目分类和标签管理
- 选项分数自定义

#### 主要接口
- `GET /questions` - 获取题目列表
- `POST /questions` - 创建题目
- `PUT /questions/{id}` - 更新题目
- `DELETE /questions/{id}` - 删除题目
- `POST /questions/import_word` - Word导入

#### 数据模型
```sql
questions表:
- id: 题目ID
- content: 题干内容
- type: 题型(single/multiple/indefinite)
- options: 选项JSON
- scores: 分数JSON
- dimension_id: 所属维度
```

### 3. 试卷管理系统

#### 功能特性
- 试卷的创建和管理
- 试卷题目分配
- 试卷状态管理（草稿/发布/关闭）
- 试卷分配给被试者
- 答题时间限制

#### 主要接口
- `GET /papers` - 获取试卷列表
- `POST /papers` - 创建试卷
- `PUT /papers/{id}` - 更新试卷
- `DELETE /papers/{id}` - 删除试卷
- `POST /papers/{id}/publish` - 发布试卷
- `POST /papers/{id}/assign` - 分配试卷

#### 数据模型
```sql
papers表:
- id: 试卷ID
- name: 试卷名称
- description: 试卷描述
- duration: 答题时间(分钟)
- status: 状态(draft/published/closed)

paper_questions表:
- paper_id: 试卷ID
- question_id: 题目ID
- dimension_id: 维度ID
- order_num: 题目顺序

paper_assignments表:
- paper_id: 试卷ID
- user_id: 用户ID
- status: 状态(assigned/started/completed)
- started_at: 开始时间
- completed_at: 完成时间
```

### 4. 维度管理系统

#### 功能特性
- 测评维度定义
- 维度层级结构（父子维度）
- 维度权重设置
- 题目与维度关联
- 维度统计分析

#### 主要接口
- `GET /dimensions/paper/{paper_id}` - 获取试卷维度
- `POST /dimensions` - 创建维度
- `PUT /dimensions/{id}` - 更新维度
- `DELETE /dimensions/{id}` - 删除维度
- `POST /dimensions/{id}/match-questions` - 关联题目

#### 数据模型
```sql
dimensions表:
- id: 维度ID
- paper_id: 试卷ID
- parent_id: 父维度ID
- name: 维度名称
- description: 维度描述
- weight: 权重
- order_num: 排序
```

### 5. 在线测评系统

#### 功能特性
- 被试者登录后查看分配的试卷
- 在线答题界面
- 答题进度保存
- 自动计时功能
- 答题完成提交

#### 主要接口
- `GET /my-assignments` - 获取我的试卷分配
- `POST /start-assessment/{id}` - 开始测评
- `POST /submit-assessment/{id}` - 提交答案

#### 答题流程
1. 被试者登录系统
2. 查看分配的试卷列表
3. 选择试卷开始答题
4. 在线作答，系统自动保存
5. 提交答案，系统自动评分
6. 生成测评报告

### 6. 报告生成系统

#### 功能特性
- 自动生成PDF报告
- 多维度分析图表
- 个性化建议生成
- 报告模板定制
- 批量报告生成

#### 报告内容
- 个人信息和测评概况
- 各维度得分和排名
- 雷达图/柱状图可视化
- 优势劣势分析
- 个性化发展建议
- 整体评价和建议

#### 技术实现
- **模板引擎**: Jinja2
- **PDF生成**: WeasyPrint
- **图表生成**: Matplotlib
- **数据处理**: Pandas

### 7. 被试者管理系统

#### 功能特性
- 被试者账号管理
- 批量导入被试者
- 被试者信息编辑
- 答题记录查看
- 报告查看和下载

#### 主要接口
- `GET /participants` - 获取被试者列表
- `POST /participants` - 创建被试者
- `PUT /participants/{id}` - 更新被试者
- `DELETE /participants/{id}` - 删除被试者
- `POST /participants/import_excel` - Excel批量导入

### 8. 管理员仪表盘

#### 功能特性
- 系统统计数据展示
- 最近测评记录
- 用户活跃度统计
- 试卷使用情况
- 快速操作入口

#### 统计数据
- 总用户数
- 总题目数
- 总试卷数
- 今日测评数
- 最近测评记录

## 前端界面结构

### 管理员界面
1. **登录页面** - 管理员登录
2. **仪表盘** - 系统概览和统计数据
3. **题库管理** - 题目的增删改查
4. **试卷管理** - 试卷的创建和分配
5. **被试者管理** - 被试者账号管理
6. **报告管理** - 查看和下载报告

### 被试者界面
1. **登录页面** - 被试者登录
2. **个人信息** - 查看和编辑个人信息
3. **在线测评** - 答题界面
4. **我的报告** - 查看个人测评报告

## 数据库设计

### 核心表结构
1. **users** - 用户表
2. **questions** - 题库表
3. **papers** - 试卷表
4. **dimensions** - 维度表
5. **paper_questions** - 试卷题目关联表
6. **paper_assignments** - 试卷分配表

### 关系设计
- 一个试卷包含多个维度
- 一个维度包含多个题目
- 一个用户可以被分配多个试卷
- 试卷和题目是多对多关系

## 部署架构

### 开发环境
- 后端: FastAPI + Uvicorn
- 前端: Vite开发服务器
- 数据库: MySQL本地实例

### 生产环境
- **容器化**: Docker + Docker Compose
- **反向代理**: Nginx
- **数据库**: MySQL 8.0
- **文件存储**: 本地存储或云存储

## 安全特性

### 认证安全
- JWT Token认证
- 密码bcrypt加密
- Token过期机制
- 角色权限控制

### 数据安全
- SQL注入防护
- XSS攻击防护
- CSRF防护
- 文件上传安全

## 性能优化

### 后端优化
- 数据库连接池
- 查询优化
- 缓存机制
- 异步处理

### 前端优化
- 代码分割
- 懒加载
- 图片优化
- 缓存策略

## 扩展功能

### 已实现功能
- ✅ 基础用户认证
- ✅ 题库管理
- ✅ 试卷管理
- ✅ 在线测评
- ✅ 报告生成
- ✅ 被试者管理

### 可扩展功能
- 🔄 实时通知系统
- 🔄 数据导出功能
- 🔄 高级统计分析
- 🔄 移动端适配
- 🔄 多语言支持
- 🔄 第三方登录
- 🔄 云存储集成

## 项目优势

1. **技术先进**: 使用最新的技术栈
2. **架构清晰**: 前后端分离，模块化设计
3. **功能完整**: 覆盖测评全流程
4. **易于扩展**: 良好的代码结构
5. **部署简单**: Docker容器化部署
6. **文档完善**: 详细的API和部署文档

## 总结

这个人才测评平台是一个功能完整、技术先进的企业级应用，具有良好的可扩展性和维护性。通过合理的架构设计和模块化开发，系统能够满足企业人才测评的各种需求，并为后续功能扩展提供了良好的基础。 